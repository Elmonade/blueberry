#!/bin/sh

# Check if a filename was provided
if [ $# -eq 0 ]; then
    echo "Error: Please provide a C++ file name"
    echo "Usage: $0 filename.cpp"
    exit 1
fi

# Get the filename from command line argument
filename="$1"

# Check if file exists
if [ ! -f "$filename" ]; then
    echo "Error: File $filename not found"
    exit 1
fi

# Extract the name without extension
basename="${filename%.*}"

# Compile the C++ file
echo "Compiling $filename..."
g++ -o "$basename" "$filename" &&
mv "$basename" bin

# Check if compilation was successful
if [ $? -eq 0 ]; then
    echo "Compilation successful!"
    echo "Running the program..."
    echo "----------------------"
    # Run the compiled program
    ./"bin/$basename"
else
    echo "Compilation failed!"
    exit 1
fi
